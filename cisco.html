<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-05-05 Sun 14:43 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cisco Configuration</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="John Herrlin" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Cisco Configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org4cb57e5">1. Cisco ASA 5510</a>
<ul>
<li><a href="#orge160fcd">1.1. Find serial tty and attach &rsquo;echo&rsquo;</a></li>
<li><a href="#orgfb363ab">1.2. Reset the ASA</a>
<ul>
<li><a href="#orgd6feaa0">1.2.1. Reset from <code>rommon</code></a></li>
<li><a href="#org776a092">1.2.2. Reset from normal boot</a></li>
</ul>
</li>
<li><a href="#org1a21296">1.3. Basic configuration</a>
<ul>
<li><a href="#orgf23bf93">1.3.1. Login</a></li>
<li><a href="#org516c374">1.3.2. Configure interfaces with VLANs</a></li>
<li><a href="#org4be924c">1.3.3. DHCP</a></li>
<li><a href="#org0aabbf2">1.3.4. NAT</a></li>
<li><a href="#org2451747">1.3.5. VPN</a></li>
<li><a href="#orgc451eca">1.3.6. Packet forwarding</a></li>
</ul>
</li>
<li><a href="#org1b405da">1.4. Show IP assigned to interfaces</a></li>
</ul>
</li>
<li><a href="#orgc305f0e">2. Cisco Catalyst 3500 Switch</a>
<ul>
<li><a href="#org00163d9">2.1. Set trunk port and configure ports</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
The configuration of the Cisco ASA and Catalyst is done
over serial RS232 connections to the devices.
</p>

<p>
The configuration is done from Emacs Org-mode with a discipline
called <a href="https://www.youtube.com/watch?v=dljNabciEGg&amp;t=887s">&ldquo;Literate DevOps&rdquo;</a>.
The benefit that we get from this is that we can push
the configuration easy and in a documenting fashion.
We never have to enter a command manually on the devices.
</p>

<p>
The configuration is defined in org tables and we then run
a bash script that pushes the left column of the
config to the device. The bash is executed via Org-babel.
</p>

<p>
Here is an example of a table:
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #7F9F7F;">#+NAME: table-name</span>
<span style="color: #9FC59F;">| Command                              | Description         |</span>
<span style="color: #9FC59F;">|--------------------------------------+---------------------|</span>
<span style="color: #9FC59F;">| interface fa0/48                     | Select interface 48 |</span>
<span style="color: #9FC59F;">| switchport mode trunk                | Set mode as 'trunk' |</span>
<span style="color: #9FC59F;">| switchport Trunk encapsulation dot1q | Set encapsultation  |</span>
<span style="color: #9FC59F;">| exit                                 | Go back             |</span>
</pre>
</div>

<p>
Here is and example of the bash script that will execute the <b>Command</b> column rows:
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #7F9F7F;">#+BEGIN_SRC sh :var CMDS=table-name[1:*,0] :results drawer</span>
<span style="color: #b3b3b3;">  stty -F /dev/ttyUSB0 9600 raw -echo -echoe -echok -echoctl -echoke</span>
<span style="color: #b3b3b3;">  </span><span style="color: #F0DFAF; font-weight: bold;">for</span><span style="color: #b3b3b3;"> i</span><span style="color: #F0DFAF; font-weight: bold;"> in</span><span style="color: #b3b3b3;"> </span><span style="color: #CC9393;">"${CMDS[@]}"</span>
<span style="color: #b3b3b3;">  </span><span style="color: #F0DFAF; font-weight: bold;">do</span>
<span style="color: #b3b3b3;">  </span><span style="color: #DCDCCC; font-weight: bold;">echo</span><span style="color: #b3b3b3;"> -e -n </span><span style="color: #CC9393;">"$i\r"</span><span style="color: #b3b3b3;"> &gt; /dev/ttyUSB0</span>
<span style="color: #b3b3b3;">  </span><span style="color: #F0DFAF; font-weight: bold;">done</span>
<span style="color: #7F9F7F;">#+END_SRC</span>
</pre>
</div>

<p>
Look closely on the <code>table-name</code> that is both in the table and the <code>#+BEGIN_SRC</code> of the script.
What is happening here? Well, we have a table of commands and a description for each command.
We set a variable <code>table-name</code> that is an argument to the script.
As we dont wanna push the descriptions to the devices, and not
the first two lines. We tell the script
to only look in the first column on the 2 row, this is done with <code>[1:*,0]</code>.
We then iterate over all of the rows in that column and executes them in order.
</p>


<div id="outline-container-org4cb57e5" class="outline-2">
<h2 id="org4cb57e5"><span class="section-number-2">1</span> Cisco ASA 5510</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orge160fcd" class="outline-3">
<h3 id="orge160fcd"><span class="section-number-3">1.1</span> Find serial tty and attach &rsquo;echo&rsquo;</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Find where the USB is mounted. If your devices is not mounted
on <b>/dev/ttyUSB0</b> you need to change this in the bash scripts.
</p>

<div class="org-src-container">
<pre class="src src-sh">dmesg | grep tty
dmesg | egrep --color <span style="color: #CC9393;">'serial|ttyS'</span>
stty -F /dev/ttyUSB0 9600 raw -echo -echoe -echok -echoctl -echoke
</pre>
</div>
</div>
</div>


<div id="outline-container-orgfb363ab" class="outline-3">
<h3 id="orgfb363ab"><span class="section-number-3">1.2</span> Reset the ASA</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-orgd6feaa0" class="outline-4">
<h4 id="orgd6feaa0"><span class="section-number-4">1.2.1</span> Reset from <code>rommon</code></h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
Rommon is a special boot mode.
</p>

<p>
Boot up and whatch the serial output.
Press &lt;ESC&gt; and you will enter <code>rommon</code>.
</p>

<p>
To reset the ASA:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">'confreg 0x41\r'</span>  &gt; /dev/ttyUSB0
<span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">'confreg\r'</span>  &gt; /dev/ttyUSB0
boot <span style="color: #5F7F5F;"># </span><span style="color: #7F9F7F;">Will boot into normal mode</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org776a092" class="outline-4">
<h4 id="org776a092"><span class="section-number-4">1.2.2</span> Reset from normal boot</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Resets the ASA to factory settings.
</p>

<p>
You need to be in <code>config f</code> mode to do this.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">"config factory-default\r"</span> &gt; /dev/ttyUSB0
sleep 3
<span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">"wr mem\r"</span> &gt; /dev/ttyUSB0
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org1a21296" class="outline-3">
<h3 id="org1a21296"><span class="section-number-3">1.3</span> Basic configuration</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-orgf23bf93" class="outline-4">
<h4 id="orgf23bf93"><span class="section-number-4">1.3.1</span> Login</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
Make sure that the ASA have booted correctly.
</p>

<div class="org-src-container">
<pre class="src src-sh">stty -F /dev/ttyUSB0 9600 raw -echo -echoe -echok -echoctl -echoke
<span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">'enable\r'</span>  &gt; /dev/ttyUSB0
<span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">'cisco\r'</span>  &gt; /dev/ttyUSB0  <span style="color: #5F7F5F;"># </span><span style="color: #7F9F7F;">Password, may be nothing</span>
<span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">'conf t\r'</span>  &gt; /dev/ttyUSB0
</pre>
</div>
</div>
</div>


<div id="outline-container-org516c374" class="outline-4">
<h4 id="org516c374"><span class="section-number-4">1.3.2</span> Configure interfaces with VLANs</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
<a id="org73df991"></a>
</p>

<table id="org5ee7a28" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">interface Ethernet0/0</td>
<td class="org-left">Select interface LNK SPD 0</td>
</tr>

<tr>
<td class="org-left">nameif external</td>
<td class="org-left">Set a variable on that interface</td>
</tr>

<tr>
<td class="org-left">ip add dhcp</td>
<td class="org-left">Assign DHCP to &rsquo;external&rsquo;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">Dont shut down &rsquo;external&rsquo;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface Ethernet0/1</td>
<td class="org-left">Select interface LNK SPD 1</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">Dont shut down</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface Ethernet0/1.10</td>
<td class="org-left">VLAN 10 / internal</td>
</tr>

<tr>
<td class="org-left">vlan 10</td>
<td class="org-left">Set VLAN 10</td>
</tr>

<tr>
<td class="org-left">nameif internal</td>
<td class="org-left">Name the interface</td>
</tr>

<tr>
<td class="org-left">security-level 100</td>
<td class="org-left">Set security level</td>
</tr>

<tr>
<td class="org-left">ip address 10.0.1.1  255.255.255.0</td>
<td class="org-left">Assign static ip</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">Dont shut down</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface Ethernet0/1.20</td>
<td class="org-left">VLAN 20 / dmz</td>
</tr>

<tr>
<td class="org-left">vlan 20</td>
<td class="org-left">Set VLAN 20</td>
</tr>

<tr>
<td class="org-left">nameif dmz</td>
<td class="org-left">Name the interface</td>
</tr>

<tr>
<td class="org-left">security-level 100</td>
<td class="org-left">Set security level</td>
</tr>

<tr>
<td class="org-left">ip address 10.0.2.1  255.255.255.0</td>
<td class="org-left">Assign static ip</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">Dont shut down</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface Ethernet0/1.30</td>
<td class="org-left">VLAN 30 / restricted</td>
</tr>

<tr>
<td class="org-left">vlan 30</td>
<td class="org-left">Set VLAN 30</td>
</tr>

<tr>
<td class="org-left">nameif restricted</td>
<td class="org-left">Name the interface</td>
</tr>

<tr>
<td class="org-left">security-level 100</td>
<td class="org-left">Set security level</td>
</tr>

<tr>
<td class="org-left">ip address 10.0.3.1  255.255.255.0</td>
<td class="org-left">Assign static ip</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">Dont shut down</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org4be924c" class="outline-4">
<h4 id="org4be924c"><span class="section-number-4">1.3.3</span> DHCP</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
Configure DHCP and DNS with Googles DNS.
</p>

<table id="org8ce8108" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">dhcpd address 10.0.1.100-10.0.1.120 internal</td>
<td class="org-left">Set a specific DHCP range on &rsquo;internal&rsquo;</td>
</tr>

<tr>
<td class="org-left">dhcpd option 3 ip 10.0.1.1 interface internal</td>
<td class="org-left">Define a default gateway for &rsquo;internals&rsquo;</td>
</tr>

<tr>
<td class="org-left">dhcpd dns 8.8.8.8 8.8.4.4</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">dhcpd enable internal</td>
<td class="org-left">Enable</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">dhcpd address 10.0.3.100-10.0.3.120 restricted</td>
<td class="org-left">Set a specific DHCP range on &rsquo;internal&rsquo;</td>
</tr>

<tr>
<td class="org-left">dhcpd option 3 ip 10.0.3.1 interface restricted</td>
<td class="org-left">Define a default gateway for &rsquo;internals&rsquo;</td>
</tr>

<tr>
<td class="org-left">dhcpd dns 8.8.8.8 8.8.4.4</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">dhcpd enable restricted</td>
<td class="org-left">Enable</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org0aabbf2" class="outline-4">
<h4 id="org0aabbf2"><span class="section-number-4">1.3.4</span> NAT</h4>
<div class="outline-text-4" id="text-1-3-4">
<p>
Configure NAT for both internal networks.
Set up NAT and ACLs for services.
</p>

<table id="orgf02f4dd" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">object network internal-subnet</td>
<td class="org-left">Create network object</td>
</tr>

<tr>
<td class="org-left">subnet 10.0.1.0 255.255.255.0</td>
<td class="org-left">Set subnet</td>
</tr>

<tr>
<td class="org-left">nat (internal,external) dynamic interface</td>
<td class="org-left">Nat &rsquo;internal&rsquo;, &rsquo;external&rsquo;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">object network dmz-subnet</td>
<td class="org-left">Create network object</td>
</tr>

<tr>
<td class="org-left">subnet 10.0.2.0 255.255.255.0</td>
<td class="org-left">Set subnet</td>
</tr>

<tr>
<td class="org-left">nat (dmz,external) dynamic interface</td>
<td class="org-left">Nat &rsquo;dmz&rsquo;, &rsquo;external&rsquo;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">object network restricted-subnet</td>
<td class="org-left">Create network object</td>
</tr>

<tr>
<td class="org-left">subnet 10.0.3.0 255.255.255.0</td>
<td class="org-left">Set subnet</td>
</tr>

<tr>
<td class="org-left">nat (restricted,external) dynamic interface</td>
<td class="org-left">Nat &rsquo;restricted&rsquo;, &rsquo;external&rsquo;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">same-security-traffic permit inter-interface</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">route external 0.0.0.0 0.0.0.0 194.47.103.1</td>
<td class="org-left">Fix the routing</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">object network dmz-http-server</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">host 10.0.2.10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">nat (dmz,external) static interface service tcp www www</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">access-list external_acl extended permit tcp host 155.4.14.29 object dmz-http-server eq 80</td>
<td class="org-left">Allow only access from Eduroam</td>
</tr>

<tr>
<td class="org-left">access-group external_acl in interface external</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">access-list HTTP-ONLY extended deny tcp 10.0.3.0 255.255.255.0 any eq 80</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">access-group HTTP-ONLY in interface external</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Any host can access the dmz http server
<code>access-list external_acl extended permit tcp any object dmz-http-server eq 80</code>
</p>
</div>
</div>

<div id="outline-container-org2451747" class="outline-4">
<h4 id="org2451747"><span class="section-number-4">1.3.5</span> VPN</h4>
<div class="outline-text-4" id="text-1-3-5">
<p>
I am not sure if this part is really working.
</p>

<table id="org5aa4c69" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">object network VPN</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">host 10.0.1.10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">object service L2TP</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">service udp source eq 1701 destination eq 1701</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">object service NATT</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">service udp source eq 4500 destination eq 4500</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">object-group service DM_INLINE_SERVICE_1</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">service-object esp</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">service-object object L2TP</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">service-object object NATT</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">service-object udp destination eq isakmp</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">access-list vpn_acl extended permit object-group DM_INLINE_SERVICE_1 any object VPN</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">nat (internal,external) source static VPN interface service NATT NATT</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">nat (internal,external) source static VPN interface service L2TP L2TP</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">object network VPN</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">nat (internal,external) static interface service udp isakmp isakmp</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">access-group vpn_acl in interface external</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgc451eca" class="outline-4">
<h4 id="orgc451eca"><span class="section-number-4">1.3.6</span> Packet forwarding</h4>
<div class="outline-text-4" id="text-1-3-6">
<div class="org-src-container">
<pre class="src src-sh">stty -F /dev/ttyUSB0 9600 raw -echo -echoe -echok -echoctl -echoke
<span style="color: #DFAF8F;">array</span>=(
    <span style="color: #CC9393;">"class-map icmp-class"</span>
    <span style="color: #CC9393;">"match default-inspection-traffic"</span>
    <span style="color: #CC9393;">"exit"</span>
    <span style="color: #CC9393;">"policy-map icmp_policy"</span>
    <span style="color: #CC9393;">"class icmp-class"</span>
    <span style="color: #CC9393;">"inspect icmp"</span>
    <span style="color: #CC9393;">"exit"</span>
    <span style="color: #CC9393;">"service-policy icmp_policy interface external"</span>
    <span style="color: #CC9393;">"service-policy icmp_policy interface internal"</span>
)
<span style="color: #F0DFAF; font-weight: bold;">for</span> i<span style="color: #F0DFAF; font-weight: bold;"> in</span> <span style="color: #CC9393;">"${array[@]}"</span>
<span style="color: #F0DFAF; font-weight: bold;">do</span>
    <span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">"$i\r"</span> &gt; /dev/ttyUSB0
<span style="color: #F0DFAF; font-weight: bold;">done</span>
<span style="color: #DCDCCC; font-weight: bold;">echo</span> -e -n <span style="color: #CC9393;">"wr mem\r"</span> &gt; /dev/ttyUSB0
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org1b405da" class="outline-3">
<h3 id="org1b405da"><span class="section-number-3">1.4</span> Show IP assigned to interfaces</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Show IP and related configurations.
</p>

<table id="org937d041" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">show ip</td>
<td class="org-left">Show IP</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">show interface ip brief</td>
<td class="org-left">Show more details</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">show access list</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">show running-config access-list</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">sh dhcpd binding</td>
<td class="org-left">Show DHCP Leases</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ping 8.8.8.8</td>
<td class="org-left">Healt test</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgc305f0e" class="outline-2">
<h2 id="orgc305f0e"><span class="section-number-2">2</span> Cisco Catalyst 3500 Switch</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org00163d9" class="outline-3">
<h3 id="org00163d9"><span class="section-number-3">2.1</span> Set trunk port and configure ports</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Make sure you are in <code>conf t</code> mode.
</p>

<table id="org88467c7" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">interface fa0/48</td>
<td class="org-left">Select interface 48</td>
</tr>

<tr>
<td class="org-left">switchport mode trunk</td>
<td class="org-left">Set mode as &rsquo;trunk&rsquo;</td>
</tr>

<tr>
<td class="org-left">switchport Trunk encapsulation dot1q</td>
<td class="org-left">Set encapsultation</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Go back</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">VLAN 10</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/1</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/3</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/5</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/7</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/9</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/11</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/13</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/15</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">VLAN 20</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/17</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/19</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/21</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/23</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/25</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/27</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/29</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/31</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">VLAN 30</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/33</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/35</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/37</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/39</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/41</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/43</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/45</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no shut</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">interface fa0/47</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">switchport access vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Spanning</td>
</tr>

<tr>
<td class="org-left">no spanning-tree vlan 10</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no spanning-tree vlan 20</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">no spanning-tree vlan 30</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2017-01-26 Thu 00:00</p>
<p class="author">Author: John Herrlin</p>
<p class="date">Created: 2019-05-05 Sun 14:43</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
